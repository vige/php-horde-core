From: Ralf Lang <ralf.lang@ralf-lang.de>
Date: Mon, 30 Oct 2023 18:48:28 +0100
Subject: Don't try to set horde specific variables on non-horde exceptions

---
 Horde_Core-2.31.18/lib/Horde/Core/Log/Object.php | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/Horde_Core-2.31.18/lib/Horde/Core/Log/Object.php b/Horde_Core-2.31.18/lib/Horde/Core/Log/Object.php
index d4bb065..2bbd979 100644
--- a/Horde_Core-2.31.18/lib/Horde/Core/Log/Object.php
+++ b/Horde_Core-2.31.18/lib/Horde/Core/Log/Object.php
@@ -10,7 +10,7 @@
  * @license   http://www.horde.org/licenses/lgpl21 LGPL-2.1
  * @package   Core
  */
-
+use Horde\Exception\HordeException;
 /**
  * A loggable event, with the display controlled by Horde configuration.
  *
@@ -113,7 +113,7 @@ class Horde_Core_Log_Object
                 $priority = Horde_Log::ERR;
             }
 
-            if ($event instanceof Horde_Exception) {
+            if ($event instanceof HordeException) {
                 $this->_logged = $event->logged;
                 if ($loglevel = $event->getLogLevel()) {
                     $priority = $loglevel;
@@ -227,7 +227,7 @@ class Horde_Core_Log_Object
     {
         switch ($name) {
         case 'logged':
-            if ($value && $this->_exception) {
+            if ($value && $this->_exception instanceof HordeException) {
                 $this->_exception->logged = true;
             }
             $this->_logged = $value;
